<html>
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

// Load the Charts and the corechart package.
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
	var queryOptions = {
		// Define the CSV data columns
    	csvColumns: ['string', 'number', 'number', 'number'],
		// This should be false if your CSV file doesn't have a header 
    	csvHasHeader: true,
			  sendMethod: 'auto'
	}
	   
	// Create the query giving the path and name of the CSV file
		    var dataUrl = 'data.csv';
	var query = new google.visualization.Query(dataUrl, queryOptions);
	query.send(handleQueryResponse);
}

function handleQueryResponse(response) {
	if (response.isError()) {
    	alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
        return;
    }

    var data = response.getDataTable();
    var chart = new google.visualization.ColumnChart(document.getElementById('csv-div'));
	chart.draw(data);
    document.getElementById("debug").innerHTML = response; //data.toJSON();

}
</script>

  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <div id="csv-div"></div>
    <div id="debug"></div>
  </body>
</html>
